/*!40101 SET NAMES utf8 */;
/*!40014 SET FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/ test1 /*!40100 DEFAULT CHARACTER SET utf8mb4 */;
USE test1;

DROP TABLE IF EXISTS customers;
CREATE TABLE `customers` (
  `customer_id` int DEFAULT NULL,
  `name` text,
  `email` text,
  `date_joined` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS order_product;
CREATE TABLE `order_product` (
  `order_id` int DEFAULT NULL,
  `product_id` int DEFAULT NULL,
  `quantity` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS orders;
CREATE TABLE `orders` (
  `order_id` int DEFAULT NULL,
  `customer_id` int DEFAULT NULL,
  `order_date` int DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

DROP TABLE IF EXISTS products;
CREATE TABLE `products` (
  `product_id` int DEFAULT NULL,
  `name` text,
  `product` text,
  `color` text,
  `size` text,
  `season` text,
  `price` float DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE OR REPLACE VIEW `customer_orders` AS select `orders`.`order_id` AS `order_id`,`orders`.`order_date` AS `order_date`,`orders`.`customer_id` AS `customer_id`,`customers`.`name` AS `name` from (`orders` join `customers` on((`customers`.`customer_id` = `orders`.`customer_id`)));

CREATE OR REPLACE VIEW `product_sales` AS select `products`.`product_id` AS `product_id`,`products`.`name` AS `name`,`products`.`product` AS `product`,`products`.`color` AS `color`,`products`.`size` AS `size`,`order_product`.`quantity` AS `Qty` from (`products` join `order_product` on((`order_product`.`product_id` = `products`.`product_id`)));

INSERT INTO customers(customer_id,name,email,date_joined) VALUES(1,X'456c6c612046697a676572616c64',X'656c6c612e6640656d61696c2e636f6d',20201005),(2,X'4772657461204a6f6e6573',X'67726574612e6a40656d61696c2e636f6d',20201005),(3,X'4a656e6e79204461766973',X'6a656e6e792e6440656d61696c2e636f6d',20201005),(4,X'4d696c657920427574746f6e',X'6d696c65792e6240656d61696c2e636f6d',20201006),(5,X'456c7369204b6161727265',X'656c73692e6b40656d61696c2e636f6d',20201010);

INSERT INTO order_product(order_id,product_id,quantity) VALUES(1,3,1),(1,13,1),(2,4,1),(2,14,1),(3,30,2),(4,28,1);

INSERT INTO orders(order_id,customer_id,order_date) VALUES(1,1,20201005),(2,2,20201005),(3,3,20201005),(4,1,20201505);
INSERT INTO products(product_id,name,product,color,size,season,price) VALUES(1,X'4b61746872696e65',X'536b697274',X'4e617679',X'5853',X'41573231',69.9),(2,X'4b61746872696e65',X'536b697274',X'4e617679',X'53',X'41573231',69.9),(3,X'4b61746872696e65',X'536b697274',X'4e617679',X'4d',X'41573231',69.9),(4,X'4b61746872696e65',X'536b697274',X'4e617679',X'4c',X'41573231',69.9),(5,X'4b61746872696e65',X'536b697274',X'4e617679',X'584c',X'41573231',69.9),(6,X'4b61746872696e65',X'536b697274',X'466f7265737420477265656e',X'5853',X'41573231',69.9),(7,X'4b61746872696e65',X'536b697274',X'466f7265737420477265656e',X'53',X'41573231',69.9),(8,X'4b61746872696e65',X'536b697274',X'466f7265737420477265656e',X'4d',X'41573231',69.9),(9,X'4b61746872696e65',X'536b697274',X'466f7265737420477265656e',X'4c',X'41573231',69.9),(10,X'4b61746872696e65',X'536b697274',X'466f7265737420477265656e',X'584c',X'41573231',69.9),(11,X'506f707079',X'4472657373',X'4f72616e6765',X'5853',X'41573231',99.9),(12,X'506f707079',X'4472657373',X'4f72616e6765',X'53',X'41573231',99.9),(13,X'506f707079',X'4472657373',X'4f72616e6765',X'4d',X'41573231',99.9),(14,X'506f707079',X'4472657373',X'4f72616e6765',X'4c',X'41573231',99.9),(15,X'506f707079',X'4472657373',X'4f72616e6765',X'584c',X'41573231',99.9),(16,X'506f707079',X'4472657373',X'466c6f72616c',X'5853',X'41573231',99.9),(17,X'506f707079',X'4472657373',X'466c6f72616c',X'53',X'41573231',99.9),(18,X'506f707079',X'4472657373',X'466c6f72616c',X'4d',X'41573231',99.9),(19,X'506f707079',X'4472657373',X'466c6f72616c',X'4c',X'41573231',99.9),(20,X'506f707079',X'4472657373',X'466c6f72616c',X'584c',X'41573231',99.9),(21,X'4772657461',X'4a756d7073756974',X'4265696765',X'5853',X'41573231',129.9),(22,X'4772657461',X'4a756d7073756974',X'4265696765',X'53',X'41573231',129.9),(23,X'4772657461',X'4a756d7073756974',X'4265696765',X'4d',X'41573231',129.9),(24,X'4772657461',X'4a756d7073756974',X'4265696765',X'4c',X'41573231',129.9),(25,X'4772657461',X'4a756d7073756974',X'4265696765',X'584c',X'41573231',129.9),(26,X'50616d656c61',X'5368697274',X'526f7365',X'5853',X'41573231',79.9),(27,X'50616d656c61',X'5368697274',X'526f7365',X'53',X'41573231',79.9),(28,X'50616d656c61',X'5368697274',X'526f7365',X'4d',X'41573231',79.9),(29,X'50616d656c61',X'5368697274',X'526f7365',X'4c',X'41573231',79.9),(30,X'50616d656c61',X'5368697274',X'526f7365',X'584c',X'41573231',79.9),(26,X'50616d656c61',X'5368697274',X'4a616465',X'5853',X'41573231',79.9),(27,X'50616d656c61',X'5368697274',X'4a616465',X'53',X'41573231',79.9),(28,X'50616d656c61',X'5368697274',X'4a616465',X'4d',X'41573231',79.9),(29,X'50616d656c61',X'5368697274',X'4a616465',X'4c',X'41573231',79.9),(30,X'50616d656c61',X'5368697274',X'4a616465',X'584c',X'41573231',79.9),(31,X'50616d656c61',X'5368697274',X'4a616465',X'58584c',X'41573231',79.9);